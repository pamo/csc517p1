<p id="notice"><%= notice %></p>

<p>
  <b>ID:</b>
  <%= @post.id %>
</p>

<p>
  <b>Username:</b>
  <%= @post.username %>
</p>

<p>
  <b>Content:</b>
  <%= @post.content %>
</p>

<p>
  <b>Category:</b>
  <%= @post.category.name %>
</p>

<p>
  <b>Votes:</b>
  <%= @post.votes %>
</p>
<% if(current_user == @post.username) %>
    <%= link_to 'Edit', edit_post_path(@post) %> |
    <%= link_to 'Back', posts_path %>
<% end %>
<h3>Comments</h3>
<%= render :partial => 'comment', :collection => @post.comments %>
<% if logged_in? %>
<hr>
<b>Post a Comment</b>
<%= form_for(@comment) do |f| %>
    <%= f.hidden_field :username, :value => current_user.name %>
    <%= f.hidden_field :post_id, :value => @post.id %>
    <% if @comment.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>

          <ul>
            <% @comment.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="field">
      <%= f.text_area :body, :rows => 5 %>
    </div>

    <div class="actions">
      <%= f.submit "Post Comment" %>
    </div>
<% end %>
<% end %>
